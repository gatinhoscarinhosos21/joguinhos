 <!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Jogo Hello Kitty - Plataforma Rosa</title>
<style>
  /* Reset */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    background: #ffe4f0; /* rosa claro */
    font-family: 'Comic Sans MS', cursive, sans-serif;
    overflow: hidden;
  }

  #gameContainer {
    position: relative;
    width: 400px;
    height: 600px;
    margin: 40px auto;
    background: #ffb6d9; /* rosa m√©dio */
    border: 5px solid #ff69b4; /* rosa forte */
    border-radius: 15px;
    overflow: hidden;
    box-shadow: 0 0 15px #ff69b4;
  }

  #helloKitty {
    position: absolute;
    width: 50px;
    height: 70px;
    background: url('https://i.imgur.com/Mk8cV8z.png') no-repeat center/contain;
    top: 500px;
    left: 175px;
    transition: top 0.1s ease;
  }

  /* La√ßo rosa */
  #helloKitty::before {
    content: '';
    position: absolute;
    top: 10px;
    left: 10px;
    width: 20px;
    height: 20px;
    background: #ff69b4;
    border-radius: 50% 50% 0 0;
    box-shadow: 15px 0 0 #ff69b4;
  }

  .platform {
    position: absolute;
    width: 100px;
    height: 20px;
    background: linear-gradient(135deg, #ff99cc, #ff66b2);
    border-radius: 10px;
    box-shadow: 0 3px 6px #ff4d94;
  }

  /* Plataforma com la√ßo */
  .platform::before {
    content: 'üéÄ';
    position: absolute;
    top: -15px;
    right: 10px;
    font-size: 20px;
  }

  #score {
    position: absolute;
    top: 10px;
    left: 10px;
    color: #fff;
    font-weight: bold;
    font-size: 20px;
    text-shadow: 0 0 3px #ff69b4;
  }

  #gameOverScreen {
    position: absolute;
    width: 100%;
    height: 100%;
    background: rgba(255, 105, 180, 0.9);
    color: white;
    font-size: 36px;
    font-weight: bold;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    border-radius: 15px;
    display: none;
  }

  #gameOverScreen button {
    margin-top: 20px;
    padding: 10px 30px;
    font-size: 20px;
    background: #ff4d94;
    border: none;
    border-radius: 12px;
    color: white;
    cursor: pointer;
    box-shadow: 0 4px 8px #ff4d94;
  }

  #gameOverScreen button:hover {
    background: #ff1a75;
  }
</style>
</head>
<body>

<div id="gameContainer">
  <div id="helloKitty"></div>
  <div id="score">Pontos: 0</div>
  <div id="gameOverScreen">
    <div>Game Over!</div>
    <div id="finalScore"></div>
    <button id="restartBtn">Jogar de novo</button>
  </div>
</div>

<script>
  const gameContainer = document.getElementById('gameContainer');
  const helloKitty = document.getElementById('helloKitty');
  const scoreDisplay = document.getElementById('score');
  const gameOverScreen = document.getElementById('gameOverScreen');
  const finalScoreDisplay = document.getElementById('finalScore');
  const restartBtn = document.getElementById('restartBtn');

  const containerWidth = gameContainer.clientWidth;
  const containerHeight = gameContainer.clientHeight;

  let kitty = {
    x: 175,
    y: 500,
    width: 50,
    height: 70,
    velocityY: 0,
    gravity: 0.6,
    jumpStrength: -12,
    onPlatform: false,
  };

  let platforms = [];
  let platformSpeed = 1.5;
  let platformSpawnTimer = 0;
  let platformSpawnInterval = 90;

  let score = 0;
  let gameRunning = true;

  // Controle de teclado
  let keys = {
    left: false,
    right: false,
    up: false,
  };

  // Cria plataformas iniciais
  function createPlatform(x, y) {
    return {
      x: x,
      y: y,
      width: 100,
      height: 20,
      movingRight: Math.random() < 0.5,
      speed: 1 + Math.random() * 1.5,
      element: null,
    };
  }

  function setup() {
    // Apaga plataformas antigas se existirem
    platforms.forEach(p => p.element && gameContainer.removeChild(p.element));
    platforms = [];

    // Plataforma inicial (para Kitty ficar em p√©)
    let basePlatform = createPlatform(150, 570);
    platforms.push(basePlatform);

    // Criar algumas plataformas aleat√≥rias
    for (let i = 0; i < 5; i++) {
      let px = Math.random() * (containerWidth - 100);
      let py = 400 - i * 100;
      platforms.push(createPlatform(px, py));
    }

    // Criar elementos no DOM para as plataformas
    platforms.forEach(p => {
      let platDiv = document.createElement('div');
      platDiv.classList.add('platform');
      platDiv.style.left = p.x + 'px';
      platDiv.style.top = p.y + 'px';
      gameContainer.appendChild(platDiv);
      p.element = platDiv;
    });

    kitty.x = 175;
    kitty.y = 500;
    kitty.velocityY = 0;
    kitty.onPlatform = false;

    score = 0;
    gameRunning = true;
    gameOverScreen.style.display = 'none';

    updateKittyPosition();
    updateScore();
  }

  function updateKittyPosition() {
    // Aplica gravidade
    kitty.velocityY += kitty.gravity;
    kitty.y += kitty.velocityY;

    // Movimenta para os lados se teclas pressionadas
    if (keys.left) kitty.x -= 4;
    if (keys.right) kitty.x += 4;

    // Limita movimento horizontal dentro do container
    if (kitty.x < 0) kitty.x = 0;
    if (kitty.x > containerWidth - kitty.width) kitty.x = containerWidth - kitty.width;

    // Colis√£o com plataformas
    kitty.onPlatform = false;
    for (let p of platforms) {
      // Plataforma se move horizontalmente
      if (p.movingRight) {
        p.x += p.speed;
        if (p.x + p.width > containerWidth) p.movingRight = false;
      } else {
        p.x -= p.speed;
        if (p.x < 0) p.movingRight = true;
      }
      p.element.style.left = p.x + 'px';

      // Checa colis√£o Kitty com plataforma
      if (
        kitty.x + kitty.width > p.x &&
        kitty.x < p.x + p.width &&
        kitty.y + kitty.height >= p.y &&
        kitty.y + kitty.height <= p.y + p.height &&
        kitty.velocityY >= 0
      ) {
        kitty.y = p.y - kitty.height;
        kitty.velocityY = 0;
        kitty.onPlatform = true;
      }
    }

    // Limita Kitty para n√£o sair do topo
    if (kitty.y < 0) {
      kitty.y = 0;
      kitty.velocityY = 0;
    }

    // Atualiza posi√ß√£o no DOM
    helloKitty.style.left = kitty.x + 'px';
    helloKitty.style.top = kitty.y + 'px';

    // Checa se caiu fora da tela - game over
    if (kitty.y > containerHeight) {
      endGame();
    }
  }

  function updateScore() {
    score++;
    scoreDisplay.textContent = 'Pontos: ' + score;
  }

  function gameLoop() {
    if (!gameRunning) return;

    updateKittyPosition();

    // Incrementa score a cada frame (ajusta se quiser mais lento)
    if (score % 5 === 0) updateScore();

    requestAnimationFrame(gameLoop);
  }

  // Pulo
  function jump() {
    if (kitty.onPlatform) {
      kitty.velocityY = kitty.jumpStrength;
      kitty.onPlatform = false;
    }
  }

  // Eventos teclado
  window.addEventListener('keydown', e => {
    if (e.key === 'ArrowLeft') keys.left = true;
    if (e.key === 'ArrowRight') keys.right = true;
    if (e.key === 'ArrowUp') jump();
  });

  window.addEventListener('keyup', e => {
    if (e.key === 'ArrowLeft') keys.left = false;
    if (e.key === 'ArrowRight') keys.right = false;
  });

  // Game Over
  function endGame() {
    gameRunning = false;
    finalScoreDisplay.textContent = `Voc√™ fez ${score} pontos!`;
    gameOverScreen.style.display = 'flex';
  }

  restartBtn.addEventListener('click', () => {
    setup();
    gameLoop();
  });

  // Come√ßa o jogo
  setup();
  gameLoop();
</script>

</body>
</html>
